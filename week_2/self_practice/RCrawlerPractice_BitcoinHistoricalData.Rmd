---
title: "Bitcoin historical price data"
author: "ChiChen Lo"
date: "`r Sys.Date()`"
---
## Summary  
This markdown code crawl the data from the website and show the historical price and volumn of Bitcoin.

***

note for TA: I run this code on my Linux machine. And thus the date column of the table would be all NA due to the problem of system   (see:https://www.rdocumentation.org/packages/base/versions/3.4.3/topics/as.Date)    
Please, if you have time, rerun this code on Windows or Mac and the table would be correct. Thank you!

***
```{r}
library(rvest)
coin = read_html("https://coinmarketcap.com/currencies/bitcoin/historical-data/?start=20170101&end=20180410")

date = html_nodes(coin, '.text-right .text-left')
title = html_nodes(coin, 'th')
open = html_nodes(coin, 'td:nth-child(3)')
high = html_nodes(coin, 'td:nth-child(3)')
low = html_nodes(coin, 'td:nth-child(4)')
close = html_nodes(coin, 'td:nth-child(5)')
volume = html_nodes(coin, 'td:nth-child(6)')

date = as.Date(html_text(date), '%b %d, %Y')
title = html_text(title)
open = html_text(open)
high = html_text(high)
low = html_text(low)
close = html_text(close)
volume = html_text(volume)

table = data.frame(date, open, high, low, close, volume)
table
```